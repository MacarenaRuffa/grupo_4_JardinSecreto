<%- include('partials/head', {styles : ['productCreate']}) %>

    <body>
        <div class="logo-btn">
            <img src="/images/Logo-verde.png" alt="Logo">
        </div>
        <div class="wrapper">
            <section id="formulario">
                <form action="/products/<%= productToEdit.id %>/edit?_method=PUT" method="POST">

                    <div class="input-box">
                        <label for="name" class="form-label">Nombre del producto:</label>
                        <input type="text" id="productNameEdit" name="name" placeholder="Nombre del producto"
                           required value="<%= productToEdit.name %>">
                        <p id="err-productNameEdit"></p>
                        <%if(locals.errors && locals.errors.name){%>
                            <p>
                                <%= errors.name.msg %>
                            </p>
                            <%} %>
                    </div>
                    <div class="input-box">
                        <label for="description" class="form-label">Descripción:</label>
                        <textarea name="description" id="descriptionEdit"
                            placeholder="Descripción del producto" 
                            required value="<%= productToEdit.description %>"></textarea>
                        <p id="err-descriptionEdit"></p>
                        <%if(locals.errors && locals.errors.description){%>
                            <p>
                                <%= errors.description.msg %>
                            </p>
                            <%} %>
                    </div>
                    <div class="input-box">
                        <label for="price" class="form-label">Precio del producto:</label>
                        <input type="text" id="priceEdit" name="price" placeholder="Precio del producto"
                           required value="<%= productToEdit.price %>">
                        <p id="err-priceEdit"></p>
                        <%if(locals.errors && locals.errors.price){%>
                            <p>
                                <%= errors.price.msg %>
                            </p>
                            <%} %>
                    </div>
                    <!--nos falta para editar imagen o borrarlo del modelo-->
                    <div class="input-box">
                        <label class="copy">Seleccione categoría:<%= productToEdit.categories_id %></label>
                        <select name="categories_id" id="categoryEdit">
                            <option value="">Elegir</option>
                            <% categories.forEach(element=> {%>
                                <option value="<%= element.id %>" <%=productToEdit.categories_id===element.id
                                    && 'selected' %>><%= element.name %>
                                </option>
                                <% }); %>
                        </select>
                        <p id="err-categoryEdit"></p>
                    </div>
                    <!-- <div class="input-box">
                <p class="copy">Foto del producto</p>
                <input type="file" id="image" name="image" accept="image/*">
            </div> -->
                    <div class="input-box">
                        <label for="sale" class="form-label">¿Está en oferta?":</label>
                        <select id="in_saleEdit" name="in_sale">
                            <option value="">Elegir</option>
                            <option value="1" <%=productToEdit.in_sale== 1 && 'selected'%> >
                            si
                            </option>
                            <option value="0" <%=productToEdit.in_sale== 0 && 'selected'%> >
                                no
                                </option>
                        </select>
                       
                        <p id="err-in_saleEdit"></p>
                    </div>
                    <button type="submit" class="btn">Guardar Cambios</button>
                </form>


            </section>
        </div>

        </section>
        <script src="/js/updateValidator.js"></script>
    </body>

    </html>